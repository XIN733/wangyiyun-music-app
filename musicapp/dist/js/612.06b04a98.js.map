{"version":3,"file":"js/612.06b04a98.js","mappings":"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","sources":["webpack://musicapp/./src/views/Search.vue","webpack://musicapp/./src/components/searchTop.vue","webpack://musicapp/./src/components/searchTop.vue?9ca7","webpack://musicapp/./src/views/Search.vue?a55f"],"sourcesContent":["<template>\r\n    <div id=\"searchPage\">\r\n        <search-top ></search-top>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport searchTop from '@/components/searchTop.vue'\r\n\r\nexport default{\r\n    components:{\r\n        searchTop\r\n    }\r\n}\r\n\r\n</script>","<template>\r\n  <div class=\"searchTop\">\r\n    <div class=\"searchTopNav\">\r\n      <div class=\"black\" @click=\"$router.go(-1)\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-zuojiantou\"></use>\r\n        </svg>\r\n      </div>\r\n      <div class=\"search-box\">\r\n        <input\r\n          type=\"text\"\r\n          v-model=\"searchKeyword\"\r\n          :placeholder=\"placeholder\"\r\n          @keydown.enter=\"saveKeyWord\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"history\" v-show=\"keywordList.length>0\">\r\n      <div class=\"historyLeft\">\r\n        <div class=\"label\">历史</div>\r\n        <div class=\"keywordList\">\r\n          <div class=\"keyItem\" v-for=\"(item, i) in keywordList\" :key=\"i\" @click=\"setSearchKeyword(item)\">{{ item }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"historyRight\" @click=\"clearKeywordList\">\r\n        <svg class=\"icon\" aria-hidden=\"true\">\r\n          <use xlink:href=\"#icon-lajitong\"></use>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n    <div class=\"playList\" v-show=\"songs.length>0\">\r\n      <div class=\"playList-top\">\r\n        <div class=\"left\">\r\n          <svg class=\"icon\" aria-hidden=\"true\">\r\n            <use xlink:href=\"#icon-yunhang\"></use>\r\n          </svg>\r\n          <div class=\"text\">\r\n            <span class=\"title\">播放全部</span>\r\n            <span class=\"num\">(共{{ songs.length }}首)</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"list\">\r\n        <div class=\"playItem\" v-for=\"(item, i) in songs\" :key=\"i\">\r\n          <div class=\"left\">\r\n            <div class=\"index\">{{ i + 1 }}</div>\r\n            <div class=\"content\">\r\n              <div class=\"title line\">{{ item.name }}</div>\r\n              <div class=\"author\">\r\n                <span class=\"text line\">{{ item.ar[0].name }}-{{ item.name }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"right\">\r\n            <svg class=\"icon play\" aria-hidden=\"true\" @click=\"setPlay(item)\">\r\n              <use xlink:href=\"#icon-bofangshu\"></use>\r\n            </svg>\r\n            <svg class=\"icon more\" aria-hidden=\"true\">\r\n              <use xlink:href=\"#icon-diandiandianshu\"></use>\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { searchMusic,getSongDetail } from \"@/api/index.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      placeholder: \"陈奕迅\",\r\n      searchKeyword: \"\",\r\n      keywordList: [],\r\n      songs: [],\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.keywordList = localStorage.keywordList?JSON.parse(localStorage.keywordList):[];\r\n  },\r\n  methods: {\r\n    async saveKeyWord() {\r\n      if(this.searchKeyword.trim()){\r\n          this.keywordList.unshift(this.searchKeyword.trim());\r\n          this.keywordList = Array.from(new Set(this.keywordList))\r\n          if(this.keywordList.length>10){\r\n            this.keywordList = this.keywordList.slice(0,10)\r\n          } \r\n          localStorage.keywordList = JSON.stringify(this.keywordList);\r\n          let res = await searchMusic(this.searchKeyword);\r\n          // console.log(res.data.result.songs);\r\n          if(res.data.result.songs){\r\n            let ids =''\r\n            res.data.result.songs.forEach((item,i)=>{\r\n              if(i==0){\r\n                ids+=item.id\r\n              }else{\r\n                ids+= ','+item.id\r\n              }\r\n            })\r\n            let res2 = await getSongDetail(ids);\r\n            res2.data.songs.forEach((item,i)=>{\r\n              item.al.name = item.name\r\n            })\r\n            this.songs = res2.data.songs\r\n            // console.log(res2.data.songs)\r\n            // console.log(this.songs)\r\n          }else{\r\n            this.songs=[]\r\n          }\r\n      }\r\n    },\r\n    clearKeywordList() {\r\n      this.keywordList = [];\r\n      localStorage.keywordList = [];\r\n    },\r\n    setSearchKeyword(keyword) {\r\n      this.searchKeyword = keyword;\r\n      this.saveKeyWord();\r\n    },\r\n    async setPlay(item){\r\n      this.$store.commit('pushPlayList',item)\r\n      this.$store.commit('setPlayCurrentIndex',this.$store.state.playlist.length-1)\r\n      // console.log(this.$store.state.playlist)\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.searchTop {\r\n  width: 7.5rem;\r\n  .searchTopNav {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: 1.2rem;\r\n    padding: 0 0.2rem;\r\n    > div {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-self: center;\r\n    }\r\n    .icon {\r\n      width: 0.5rem;\r\n      height: 0.5rem;\r\n      fill: #000;\r\n    }\r\n    .search-box {\r\n      width: 6.2rem;\r\n      height: 100%;\r\n      input {\r\n        width: 100%;\r\n        height: 70%;\r\n        border-bottom: 1px solid #999;\r\n        font-size: 0.35rem;\r\n      }\r\n    }\r\n  }\r\n  .history {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 0.2rem 0.2rem 0;\r\n    .historyLeft {\r\n      display: flex;\r\n      .label {\r\n        font-size: 0.3rem;\r\n        font-weight: bold;\r\n        margin-top: 0.02rem;\r\n      }\r\n      .keywordList {\r\n        margin-left: 0.3rem;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        width: 5.5rem;\r\n        .keyItem {\r\n          font-size: 0.28rem;\r\n          background-color: #eee;\r\n          color: #666;\r\n          padding: 0.05rem 0.2rem 0.08rem;\r\n          border-radius: 0.4rem;\r\n          margin: 0 0.12rem 0.2rem 0;\r\n        }\r\n      }\r\n    }\r\n    .historyRight {\r\n      .icon {\r\n        width: 0.35rem;\r\n        height: 0.35rem;\r\n        margin-top: 0.05rem;\r\n      }\r\n    }\r\n  }\r\n  .playList {\r\n    width: 7.5rem;\r\n    padding: 0 0.2rem;\r\n    background-color: #fff;\r\n    border-radius: 0.4rem 0.4rem 0 0;\r\n    padding-bottom: 1.2rem;\r\n    .playList-top {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      height: 1rem;\r\n      .left {\r\n        display: flex;\r\n        align-items: center;\r\n        .icon {\r\n          width: 0.6rem;\r\n          height: 0.6rem;\r\n        }\r\n        .text {\r\n          display: flex;\r\n          align-items: center;\r\n          .title {\r\n            font-size: 0.34rem;\r\n            font-weight: 900;\r\n            margin-left: 0.2rem;\r\n          }\r\n          .num {\r\n            font-size: 0.24rem;\r\n            color: #666;\r\n            margin: 0.02rem 0 0 0.1rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .list {\r\n      padding: 0 0.2rem;\r\n      .playItem {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        height: 1rem;\r\n        .left {\r\n          display: flex;\r\n          align-items: center;\r\n          width: 5.3rem;\r\n          .index {\r\n            color: #666;\r\n            width: 0.45rem;\r\n            font-size: 0.28rem;\r\n          }\r\n          .content {\r\n            .title {\r\n              font-size: 0.3rem;\r\n              font-weight: 999;\r\n              margin-bottom: 0.1rem;\r\n              width: 4.5rem;\r\n            }\r\n            .author {\r\n              font-size: 0.2rem;\r\n              color: #666;\r\n              display: flex;\r\n              align-items: center;  \r\n              .text {\r\n                display: inline-block;\r\n                width: 3.6rem;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .right {\r\n          .icon {\r\n            width: 0.35rem;\r\n            height: 0.35rem;\r\n          }\r\n          .play {\r\n            margin-right: 0.2rem;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./searchTop.vue?vue&type=template&id=16de4842\"\nimport script from \"./searchTop.vue?vue&type=script&lang=js\"\nexport * from \"./searchTop.vue?vue&type=script&lang=js\"\n\nimport \"./searchTop.vue?vue&type=style&index=0&id=16de4842&lang=less\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\学习资料\\\\git\\\\wangyiyun-music-m\\\\musicapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Search.vue?vue&type=template&id=7ad1f5d4\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\学习资料\\\\git\\\\wangyiyun-music-m\\\\musicapp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","_createElementBlock","_createVNode","_component_search_top","class","_createElementVNode","_hoisted_3","_hoisted_12","_hoisted_30","onClick","_ctx","go","type","$data","$event","placeholder","onKeydown","$options","_hoisted_9","_Fragment","_renderList","item","i","key","_hoisted_11","length","_hoisted_17","_hoisted_19","_toDisplayString","name","ar","_hoisted_32","data","searchKeyword","keywordList","songs","beforeMount","this","localStorage","JSON","parse","methods","async","trim","unshift","Array","from","Set","slice","stringify","res","searchMusic","result","ids","forEach","res2","getSongDetail","al","clearKeywordList","setSearchKeyword","keyword","saveKeyWord","$store","commit","state","playlist","__exports__","components","searchTop","render"],"sourceRoot":""}